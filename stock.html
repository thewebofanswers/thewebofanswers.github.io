<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,user-scalable=no" />
  <meta property="og:description" content="내 주식 얼마지"/>
  <meta property="og:title" content="ltctitan"/>
  <meta name="theme-color" content="red" />
  <title>Cut off the Eom's house with stocks</title>
  <link rel="manifest" href="./manifest2.json">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</head>
<style>
  .loading {
    position: absolute;
    top: 50%;
    left: 50%;
  }
  .loading-bar {
    display: inline-block;
    width: 4px;
    height: 18px;
    border-radius: 4px;
    animation: loading 1s ease-in-out infinite;
  }
  .loading-bar:nth-child(1) {
    background-color: #3498db;
    animation-delay: 0;
  }
  .loading-bar:nth-child(2) {
    background-color: #c0392b;
    animation-delay: 0.09s;
  }
  .loading-bar:nth-child(3) {
    background-color: #f1c40f;
    animation-delay: .18s;
  }
  .loading-bar:nth-child(4) {
    background-color: #27ae60;
    animation-delay: .27s;
  }

  @keyframes loading {
    0% {
      transform: scale(1);
    }
    20% {
      transform: scale(1, 2.2);
    }
    40% {
      transform: scale(1);
    }
  }
</style>
<body style="margin-top: 10px;">
<div id="loading" class="loading">
  <div class="loading-bar"></div>
  <div class="loading-bar"></div>
  <div class="loading-bar"></div>
  <div class="loading-bar"></div>
</div>
<div id="main" style="display: none">
  <ins class="kakao_ad_area" style="display:none;"
       data-ad-onfail   = "callBackFunc"
       data-ad-unit    = "DAN-uvhgnejycoj8"
       data-ad-width   = "320"
       data-ad-height  = "100"></ins>
<div class="input-group input-group-sm mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-sm">보유 주식 수</span>
  </div>
  <input type="text" onchange="calc(this)" onkeyup="calc(this)" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
</div>
<div class="list-group">
  <a href="#" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">LCTITAN(5284)</h5>
      <small>bursamalaysia 기준</small>
    </div>
    <p id="lcttitan" class="mb-1"></p>
    <small id="ltctitan_date"></small>

  </a>
  <a href="#" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">원달러 환율</h5>
      <small class="text-muted">국민은행 기준</small>
    </div>
    <p id="dallar" class="mb-1"></p>
    <small id="date1" class="text-muted"></small>
  </a>
  <a href="#" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">원링깃 환율</h5>
      <small class="text-muted">국민은행 기준</small>
    </div>
    <p id="myr" class="mb-1"></p>
    <small id="date2" class="text-muted"></small>
  </a>
  <a href="#" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">링깃달러 환율</h5>
      <small class="text-muted">maybank 기준</small>
    </div>
    <p id="dallar_myr" class="mb-1"></p>
  </a>
  <a href="#" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">달러 환산(MYR -> USD(May Bank))</h5>
    </div>
    <p class="mb-1" id="dallar_price"></p>
  </a>
  <a href="#" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">한화 환산(MYR -> KRW(국민은행))</h5>
    </div>
    <p class="mb-1" id="won_price"></p>
  </a>
</div>
</div>
<script>
  let amount = 0;
  let stock_price;
  let won_dallar;
  let won_myr;
  let myr_dallar;

  function callback(data) {
    document.getElementById('ltctitan_date').innerText = data.ltctitan_date + " MYT(GMT+8)";
    document.getElementById('lcttitan').innerText = String(data.ltctitan) + " MYR";
    stock_price = Number(data.ltctitan);
    document.getElementById('dallar').innerText = String(data.dallar) + " KRW";
    won_dallar = Number(data.dallar.replace(',', ''));
    document.getElementById('dallar_myr').innerText = String(data.dallar_myr) + " MYR";
    myr_dallar = Number(data.dallar_myr);
    document.getElementById('myr').innerText = String(data.myr) + " KRW";
    won_myr = Number(data.myr);
    document.getElementById('date1').innerText = '오늘 ' + data.date + " KST(GMT+9)";
    document.getElementById('date2').innerText = '오늘 ' + data.date + " KST(GMT+9)";
    document.getElementById('loading').style.display = "none";
    document.getElementById('main').style.display = "block";

  }
  const script = document.createElement('script');
  script.src = 'http://ec2-13-124-36-161.ap-northeast-2.compute.amazonaws.com:8088/stock/';
  document.body.append(script);


  function calc(aa) {
    amount = Number(aa.value);
    console.log(amount*stock_price/myr_dallar , amount*stock_price/myr_dallar*won_dallar, amount*stock_price*won_myr);
    document.getElementById('dallar_price').innerText = 'USD ' + Math.round(amount*stock_price/myr_dallar*100)/100  + ' (약 KRW ' + Math.round(amount*stock_price/myr_dallar*won_dallar) + ')'
    document.getElementById('won_price').innerText = 'KRW ' + Math.round(amount*stock_price*won_myr);
  }


</script>
<script type="text/javascript" src="https://t1.daumcdn.net/adfit/static/ad.min.js" async></script>
</body>
</html>